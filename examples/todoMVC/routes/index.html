<script server>
  const model = require('~/models/todos');
  const { filterTodos } = require('~/models/utils');
  const { filter } = query;
  const todos = filterTodos(filter, model.getTodos());

  return {
    todos,
    itemsLeft: model.getItemsLeft(),
  };
</script>

<section class="main">
  <input class="toggle-all" id="toggle-all" type="checkbox" />
  <label for="toggle-all">Mark all as complete</label>
  {{> todo-list-frag}}
</section>
